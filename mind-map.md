# RTRG Codebase Mind Map

This file provides a high-level, text-based mind map of the `rtrg` package, listing top-level classes and functions grouped by domain and module. It’s intended as a reviewer’s overview and a living index.

---

<!-- BEGIN AUTO-GENERATED: MIND MAP -->
<!-- This section is auto-generated by tools/generate_mind_map.py -->
## Mind Map (Modules → Classes/Functions)

- rtrg
  - __init__.py
    - functions: `main`
  - core
    - __init__.py
    - constants.py
      - classes: `PhysicalConstants`, `UnitSystem`
    - fields.py
      - functions: `symbolic_four_gradient`
      - classes: `FieldProperties`, `Field`, `ResponseField`, `EnergyDensityField`, `FourVelocityField`, `ShearStressField`, `BulkPressureField`, `HeatFluxField`, `FieldRegistry`, `TensorAwareField`, `EnhancedEnergyDensityField`, `EnhancedFourVelocityField`, `EnhancedShearStressField`, `EnhancedBulkPressureField`, `EnhancedHeatFluxField`, `EnhancedFieldRegistry`
    - parameters.py
      - classes: `ISParameters`, `StandardParameterSets`
    - registry_base.py
      - functions: `get_registry_info`
      - classes: `AbstractFieldRegistry`, `RegistryInfo`
    - registry_converter.py
      - functions: `convert_core_to_enhanced`, `convert_core_to_symbolic`, `convert_symbolic_to_enhanced`
      - classes: `ConversionCache`, `FieldRegistryConverter`
    - registry_factory.py
      - functions: `create_registry_for_context`, `get_registry_factory`
      - classes: `RegistryContext`, `RegistryFactory`
    - tensors.py
      - classes: `Metric`, `IndexStructure`, `LorentzTensor`, `IndexType`, `TensorIndex`, `TensorIndexStructure`, `ConstrainedTensorField`, `ProjectionOperators`
  - field_theory
    - __init__.py
    - feynman_rules.py
      - classes: `MomentumConfiguration`, `FeynmanRule`, `PropagatorRule`, `FeynmanRules`, `WardIdentityChecker`, `DimensionalAnalyzer`
    - msrjd_action.py
      - classes: `ActionComponents`, `NoiseCorrelator`, `ActionExpander`, `MSRJDAction`
    - phase_integration.py
      - classes: `IntegrationConfig`, `IntegrationResults`, `PhaseIntegrator`
    - physics_validation.py
      - classes: `PhysicsValidationError`, `HydrodynamicModeAnalyzer`, `TransportCoefficientValidator`, `FluctuationDissipationValidator`, `PhysicsValidationSuite`
    - propagators.py
      - classes: `PropagatorComponents`, `SpectralProperties`, `PropagatorMatrix`, `PropagatorCalculator`, `TensorAwarePropagatorCalculator`, `TensorPropagatorExtractor`
    - propagators_simple.py
      - classes: `PropagatorComponents`, `SpectralProperties`, `PropagatorMatrix`, `PropagatorCalculator`
    - symbolic_tensors.py
      - classes: `TensorFieldProperties`, `SymbolicTensorField`, `TensorDerivative`, `IndexedFieldRegistry`
    - tensor_action_expander.py
      - classes: `TensorVertex`, `TensorExpansionResult`, `TensorActionExpander`
    - tensor_msrjd_action.py
      - classes: `TensorActionComponents`, `TensorNoiseCorrelator`, `TensorMSRJDAction`
    - vertices.py
      - classes: `VertexStructure`, `VertexCatalog`, `VertexExtractor`, `VertexValidator`
  - renormalization
    - __init__.py
    - beta_functions.py
      - classes: `RGFlowParameters`, `BetaFunctionCalculator`
    - fixed_points.py
      - classes: `FixedPointFinder`
    - flow.py
      - classes: `RGFlow`
    - one_loop.py
      - classes: `OneLoopCalculator`
  - israel_stewart
    - __init__.py
    - constraints.py
      - functions: `spatial_projector`, `tt_projector`, `is_symmetric_traceless_spatial`, `is_spatial_vector`, `validate_all_constraints`, `constraint_violation_magnitude`, `verify_projector_idempotency`, `test_all_reference_frames`, `apply_constraint_corrections`
      - classes: `VelocityConstraint`, `ValidationReport`
    - equations.py
      - classes: `IsraelStewartParameters`, `IsraelStewartSystem`
    - linearized.py
      - classes: `BackgroundState`, `LinearizedField`, `LinearizedIS`
    - thermodynamics.py
      - classes: `EOS`, `ConformalEOS`, `IdealGasEOS`
  - visualization
    - __init__.py
    - propagator_plots.py
      - functions: `plot_propagator_overview`, `compare_propagator_types`
      - classes: `PropagatorVisualizer`
    - tensor_diagrams.py
      - functions: `visualize_tensor_network`, `visualize_index_structure`, `plot_tensor_operation`, `plot_field_hierarchy`
  - numerics
    - __init__.py
  - analysis
    - __init__.py
  - symbolic
    - __init__.py
  - production
    - __init__.py

<!-- END AUTO-GENERATED: MIND MAP -->





---

## Notes

- This map lists top-level declarations only (no methods). It reflects current repository state via static scanning and may evolve.
- Where duplicate class names appear in different modules (e.g., `PropagatorComponents`), they are distinct per-module implementations.

---

## Module Summaries and Key Relationships

- Core
  - Summary: Foundational tensor algebra, physical constants, field types, and registries.
  - Relationships:
    - `core.tensors` supplies `Metric`, projectors, and tensor structures used across
      `israel_stewart` (constraints) and `field_theory` (propagators, actions).
    - `core.fields` defines physical and response fields used by MSRJD actions and
      by linearized/validation tooling.
    - `registry_factory` and `registry_converter` orchestrate building `FieldRegistry`
      instances and converting between core, enhanced, and symbolic registries.

- Field Theory
  - Summary: MSRJD action construction, tensor-aware expansions, propagators, vertices,
    and Feynman rules; physics validation utilities.
  - Relationships:
    - `msrjd_action` and `tensor_msrjd_action` compose actions from `core.fields` and
      enforce constraints using `core.tensors.ProjectionOperators`.
    - `propagators` consume field definitions and parameters to build retarded/advanced
      and Keldysh structures; used by validators and visualization.
    - `vertices` and `feynman_rules` provide interaction structures consumed by
      `renormalization` (e.g., one-loop, beta functions).
    - `physics_validation` cross-checks dispersion, transport, and FDT consistency using
      propagators and constraints; integrates with `israel_stewart.linearized` states.

- Israel–Stewart
  - Summary: IS hydrodynamics parameters, equations, constraints, thermodynamics, and
    linearized modes.
  - Relationships:
    - `constraints` implement projector- and tensor-based checks using `core.tensors.Metric`.
    - `equations` and `linearized` supply background/mode structures used in
      `field_theory.physics_validation` and propagator sanity checks.
    - `thermodynamics` offers EOS models referenced by parameters and validations.

- Renormalization
  - Summary: Flow calculators, beta functions, fixed points, and one-loop utilities.
  - Relationships:
    - Consumes `field_theory.feynman_rules` and `propagators` to assemble loop integrals.
    - Exposes `RGFlow`, `BetaFunctionCalculator`, and `FixedPointFinder` for analysis.

- Visualization
  - Summary: Plotting utilities for propagators and tensor/field structures.
  - Relationships:
    - `PropagatorVisualizer` uses `field_theory.propagators`; diagram functions visualize
      field/vertex hierarchies defined in `core.fields` and `field_theory.vertices`.

- Numerics / Analysis / Symbolic / Production
  - Summary: Currently lightweight stubs or aggregators (`__init__.py`) prepared for
    numerical routines, analysis scripts, symbolic tooling, and production workflows.

---

## Key Inheritance & Interactions (Selected)

- core.fields
  - Inheritance: `Field` → (`ResponseField`, `EnergyDensityField`, `FourVelocityField`,
    `ShearStressField`, `BulkPressureField`, `HeatFluxField`).
  - Inheritance: `TensorAwareField` → (`EnhancedEnergyDensityField`, `EnhancedFourVelocityField`,
    `EnhancedShearStressField`, `EnhancedBulkPressureField`, `EnhancedHeatFluxField`).
  - Registries: `FieldRegistry` → `EnhancedFieldRegistry` (specialized behaviors).
  - Utilities: `symbolic_four_gradient` supports symbolic derivative construction.

- core.tensors
  - Structures: `Metric`, `IndexStructure`, `LorentzTensor`, `TensorIndexStructure` underpin
    tensor types; `ProjectionOperators` provide `Δ^{μν}` and TT projectors.
  - Constraints: `ConstrainedTensorField` encodes symmetry/traceless/spatial properties.

- field_theory.msrjd_action / tensor_msrjd_action
  - Composition: `ActionComponents` + `NoiseCorrelator` → `ActionExpander` → `MSRJDAction`.
  - Tensor-aware: `TensorActionComponents` + `TensorNoiseCorrelator` → `TensorMSRJDAction`.

- field_theory.propagators
  - Inheritance: `PropagatorCalculator` → `TensorAwarePropagatorCalculator`.
  - Extraction: `TensorPropagatorExtractor` operates on `PropagatorMatrix` outputs.
  - Parallel simplified API in `propagators_simple` for lighter workflows.

- field_theory.vertices / feynman_rules
  - Data: `VertexStructure`, `MomentumConfiguration` describe kinematics.
  - Rules: `FeynmanRules` aggregates `FeynmanRule` and `PropagatorRule` entries; verified by
    `WardIdentityChecker`; dimensional checks via `DimensionalAnalyzer`.

- renormalization
  - Flow: `RGFlowParameters` + `BetaFunctionCalculator` feed `RGFlow`.
  - Fixed points: `FixedPointFinder` searches zeros of beta functions.
  - Loops: `OneLoopCalculator` consumes propagators and vertices/rules.

- israel_stewart
  - Constraints: `spatial_projector`/`tt_projector`/`is_symmetric_traceless_spatial` implement
    projector-based checks; `apply_constraint_corrections` enforces them.
  - Validation: `ValidationReport` structures results; `test_all_reference_frames` explores
    frame dependence; `verify_projector_idempotency` sanity-checks numerics.
  - Dynamics: `IsraelStewartSystem` evolves `IsraelStewartParameters`; `LinearizedIS` uses
    `BackgroundState` and `LinearizedField` for dispersion analysis.

- visualization
  - Orchestration: `PropagatorVisualizer` wraps plotting of propagator families; high-level
    helpers `plot_propagator_overview` and `compare_propagator_types` provide ready-made views.
  - Structure plots: `tensor_diagrams` visualize field hierarchies and index structures.

---
